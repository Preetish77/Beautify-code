<!DOCTYPE html>
<html>
<head>
  <title>Beautifier</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; }
    textarea { width: 100%; height: 150px; margin-bottom: 20px; }
    button { padding: 10px 15px; cursor: pointer; }
  </style>
</head>
<body>

<h2>Beautifier</h2>

<p>Paste your one-line code below:</p>

<textarea id="input"></textarea>

<button onclick="beautify()">Beautify</button>

<h3>Output:</h3>
<textarea id="output"></textarea>

<script>
function beautify() {
  let code = document.getElementById("input").value;

  // add newlines around tags
  code = code
    .replace(/{%/g, "\n{%")
    .replace(/%}/g, "%}\n")
    .replace(/\n+/g, "\n") // remove extra lines
    .trim();

  // indent text lines under conditionals
  let lines = code.split("\n").map(line => {
    if (line.startsWith("{%")) return line;
    return "  " + line.trim();
  });

  document.getElementById("output").value = lines.join("\n");
}
</script>

</body>
</html>
